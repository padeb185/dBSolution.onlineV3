{% load static %}
{% load django_browser_reload %}
{% django_browser_reload_script %}
{% load i18n %}

{% get_current_language as LANGUAGE_CODE %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% trans "dBSolution" %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'theme/css/dist/styles.css' %}">
    <link rel="icon" type="image/png" href="{% static 'images/favicon.ico' %}">
</head>

<body class="bg-pastelblue">

<header class="bg-white shadow p-4">
    <nav class="container mx-auto flex justify-between items-center">

        <!-- Liens -->
        <div class="flex gap-4">
            <a href="{% url 'home' %}" class="text-gray-600 hover:text-black font-semibold">
                {% trans "Accueil " %}
            </a>
            <a href="{% url 'dashboard' %}" class="text-gray-600 hover:text-black font-semibold">
                {% trans " Tableau de Bord" %}
            </a>
        </div>

        <!-- SÃ©lecteur de langue -->
        <form action="{% url 'set_language' %}" method="post">
          {% csrf_token %}
          <select name="language">
            {% get_current_language as LANGUAGE_CODE %}
            {% get_available_languages as LANGUAGES %}
            {% for code, name in LANGUAGES %}
              <option value="{{ code }}" {% if code == LANGUAGE_CODE %}selected{% endif %}>{{ name }}</option>
            {% endfor %}
          </select>
          <button type="submit">{% trans "Changer de langue" %}</button>
        </form>


    </nav>
</header>

<main class="container mx-auto mt-8 p-6">
    {% block content %}{% endblock %}
</main>

</body>
</html>
